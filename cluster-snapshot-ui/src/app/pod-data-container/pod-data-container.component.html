<div class="pad-left">

  <div class="card text-center" style="width: 300px">
    <div class="card-header">Pod Data</div>
    <div class="card-body">
      <h5 class="card-title">Pods Running</h5>
      <p class="card-text"></p>
      <a class="btn btn-primary" (click)="refreshPodDetails()" [ngbTooltip]="'Refresh data'">
        {{podList ? podList.length : 0}}</a>
    </div>
    <div class="card-footer text-muted" style="font-size: 10px"> Last refreshed: {{lastRefresh}}</div>
  </div>


  <br>

  <div class="pad-bottom"><input type="text" placeholder="search here" [(ngModel)]="searchText">
  </div>

  <div class="pad-bottom" *ngFor="let pod of podList | PodSearchPipe: searchText">
    <button type="button" class="btn btn-xs btn-info" data-toggle="collapse"
            [ngClass]="{'pod-not-ready': checkReady(pod)}"
            [attr.data-target]="'#' + pod.podName.split('.')[0]">{{pod.podName}}</button>
    <ngbd-modal-options [podModal]="pod"></ngbd-modal-options>

    <i *ngIf="checkReady(pod)" class="fa fa-refresh fa-spin fa-fw"></i>

    <button style="float: right;margin-right: 10%" class="btn btn-sm btn-info"
            (click)="refreshPodLogs(pod)"
            [ngbTooltip]="'Refresh logs'"><i class='fa fa-repeat' title="Refresh logs"></i></button>

    <div id="{{pod.podName.split('.')[0]}}" class="collapse">
      <p><b>{{pod.podCommand}}</b></p>
      <p *ngIf="pod.restarts > 0"><b>Number of restarts: {{pod.restarts}}</b></p>
      <p *ngIf="pod.podMemory"><b>Memory usage: {{pod.podMemory}}</b></p>
      <pre class="modal-content">{{ pod.logs }}</pre>

    </div>
  </div>

</div>
